<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2020-08-04" />

<title>Falando a língua do R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/darkly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Oficina de R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutoriais
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="11_lingua-r.html">Falando a língua do R</a>
    </li>
    <li>
      <a href="12_bancos-de-dados-em-r.html">Banco de dados</a>
    </li>
    <li>
      <a href="13_controle-de-fluxo.html">Controle de fluxo</a>
    </li>
    <li>
      <a href="14_visualizacoes-em-R.html">Visualizações</a>
    </li>
    <li>
      <a href="15_manipulacao-dplyr.html">Manipulação com dplyr</a>
    </li>
    <li>
      <a href="16_tidy_data.html">Reformatando com tidyr</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Curso
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="00_aula-1.html">Aula 1: Introdução</a>
    </li>
    <li>
      <a href="02_aula-2.html">Aula 2: Importação e cozinha</a>
    </li>
    <li>
      <a href="03_aula-3.html">Aula 3: Transformação e visualização</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Falando a língua do R</h1>
<h4 class="date">08/04/2020</h4>

</div>


<div id="introdução" class="section level2">
<h2>Introdução</h2>
<p>Uma das grandes dificuldades de aprender uma nova língua é o estranhamento. Mesmo quando você entende o significado de algumas palavras, é difícil entender a síntaxe das frases, mesmo quando entende a síntaxe de algumas frases básicas, é difícil compreender as formas como as pessoas se referem aos objetos da língua. Com linguagens de programação, não é diferente, na verdade, se você não vem de uma base sólida em matemática e lógica, pode parecer uma tarefa impossível. Mas não é!</p>
<p>O objetivo desta atividade é te dar um primeiro ponto de contato com a linguagem R, para suavizar esse estranhamento com todos os novos conceitos que são rapidamente introduzidos em tutoriais que estão mais focados nas ferramentas utilizadas no trabalho diário com dados. Espero que você pegue o gosto e estimule sua curiosidade e criatividade!</p>
</div>
<div id="instalação" class="section level2">
<h2>Instalação</h2>
<p>O R Base é nada mais que um console onde você pode digitar comandos e obter respostas do software, para facilitar não só o aprendizado, mas o trabalho diário, eu recomendo fortemente você utilizar um Ambiente de Desenvolvimento Integrado. Nele, você vai poder utilizar não só o console do R base, como vai obter vários painéis que te ajudam a acompanhar o que está ocorrendo no seu programa. Eu recomendo o RStudio.</p>
<ol style="list-style-type: decimal">
<li>Instale o <a href="cran.r-project.org">R Base</a></li>
</ol>
<ul>
<li><p>Selecione o seu sistema operacional (o meu é Windows) <img src="instal-r-1.png" /></p></li>
<li><p>Clique em “base” <img src="instal-r-2.png" /></p></li>
<li><p>Clique para fazer o download da versão mais recente <img src="instal-r-3.png" /></p></li>
<li><p>Rode o instalador e siga as instruções.</p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Instale o <a href="www.rstudio.com">RStudio</a></li>
</ol>
<ul>
<li><p>Abra o site do Rstudio e clique em <strong>Download</strong> <img src="instal-rstudio-1.png" /></p></li>
<li><p>Role para baixo até chegar na parte indicada abaixo <img src="instal-rstudio-2.png" /></p></li>
<li><p>Selecione o Rstudio para usuários (gratuito) <img src="instal-rstudio-3.png" /></p></li>
<li><p>Clique no botão de download indicado <img src="instal-rstudio-4.png" /></p></li>
</ul>
</div>
<div id="o-que-é-o-r" class="section level2">
<h2>O que é o R?</h2>
<p>No contexto do uso do R na demografia, creio que é interessante a gente olhar para ele a partir de duas perspectivas:</p>
<ol style="list-style-type: decimal">
<li><p>É uma linguagem de programação <em>interpretada</em>, com ênfase na estatística, na ciência de dados. É muito utilizada por biológos, estatísticos e alguns cientistas sociais quantitativos, como economistas, cientistas políticos, etc.</p></li>
<li><p>É uma caixinha de ferramentas, onde muitas das operações que iremos realizar já foram programadas por outros cientistas que vieram antes de nós, o que reduz a necessidade de programar tudo manualmente.</p></li>
</ol>
</div>
<div id="pra-que-estudar-r" class="section level2">
<h2>Pra que estudar R?</h2>
<p>Em último caso, essa resposta é pessoal e subjetiva, afinal, como cientistas sociais ou demógrafos, existem outras opções por aí para trabalhar seus bancos de dados, mas deixo aqui algumas razões que me ajudaram a decidir.</p>
<ol style="list-style-type: decimal">
<li>R é gratuito para usuários, sem precisar comprar nem registrar nada.</li>
<li>É desenvolvido de maneira colaborativa, por cientistas, acadêmicos e programadores que doam seu trabalho para a comunidade.</li>
<li>É um dos softwares mais atualizados, recebendo novas funcionalidades o tempo todo.</li>
<li>Permite interface com todos os outros softwares estatísticos, lendo e escrevendo bancos de dados SPSS, SAS, EXCEL, STATA.</li>
<li>Um dos mais completos, com pacotes e funções para praticamente tudo que você imaginar, inclusive com alguns para a demografia.</li>
</ol>
</div>
<div id="o-console-do-r" class="section level2">
<h2>O Console do R</h2>
<p>Se vocês trabalharem no console do R, ele funciona como uma espécie de calculadora científica. Para finalidades de demonstração, vou utilizar a aba “Console” do RStudio. Não é necessário abrir o software R, pois o RStudio deve conectar-se automaticamente a versão mais recente do R.</p>
<p><img src="console-rstudio.png" /></p>
<p>Experimente rodar (digitar e apertar ENTER) os comandos a seguir diretamente no console:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="dv">2</span><span class="op">+</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="dv">2</span><span class="op">+</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="dv">2</span> <span class="op">+</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">log</span>(<span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 0.6931472</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">log10</span>(<span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 0.30103</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>2w</a></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="dv">2</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="dv">2</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="st">&quot;banana&quot;</span></a></code></pre></div>
<pre><code>## [1] &quot;banana&quot;</code></pre>
<p>Veja que alguns comandos funcionam corretamente, enquanto outros dão erros. É sempre uma boa ideia inspecionar os erros para descobrir o que está acontecendo. No caso de <code>2 + 2w</code>, o R não reconhece o <code>w</code> como algo que pode fazer parte de uma operação de soma. As <code>"</code> ao redor de banana indicam que se tratam de caracteres, o que frequentemente é chamado de <em>string</em>.</p>
<p>Códigos precisam ser organizados visualmente. Para o computador, tanto faz, se o código estiver correto, ele será executido sem erros, mas para o ser humano que programa, a organização do texto é fundamental. Considere o código a seguir (não o rode):</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">setwd</span>(<span class="st">&quot;C:/RBook/&quot;</span>)</a>
<a class="sourceLine" id="cb22-2" title="2">ISIT&lt;-<span class="kw">read.table</span>(<span class="st">&quot;ISIT.txt&quot;</span>,<span class="dt">header=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb22-3" title="3"><span class="kw">library</span>(lattice)</a>
<a class="sourceLine" id="cb22-4" title="4"><span class="kw">xyplot</span>(SourcesSampleDepth<span class="op">|</span><span class="kw">factor</span>(Station),<span class="dt">data=</span>ISIT,</a>
<a class="sourceLine" id="cb22-5" title="5"><span class="dt">xlab=</span><span class="st">&quot;Sample Depth&quot;</span>,<span class="dt">ylab=</span><span class="st">&quot;Sources&quot;</span>,</a>
<a class="sourceLine" id="cb22-6" title="6"><span class="dt">strip=</span><span class="cf">function</span>(<span class="dt">bg=</span>’white’, ...)</a>
<a class="sourceLine" id="cb22-7" title="7"><span class="kw">strip.default</span>(<span class="dt">bg=</span>’white’, ...),</a>
<a class="sourceLine" id="cb22-8" title="8"><span class="dt">panel =</span> <span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb22-9" title="9"><span class="kw">panel.grid</span>(<span class="dt">h=</span><span class="op">-</span><span class="dv">1</span>, <span class="dt">v=</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb22-10" title="10">I1&lt;-<span class="kw">order</span>(x)</a>
<a class="sourceLine" id="cb22-11" title="11"><span class="kw">llines</span>(x[I1], y[I1],<span class="dt">col=</span><span class="dv">1</span>)})</a></code></pre></div>
<p>Dentro de um determinado contexto, esse código funciona perfeitamente, mas para o leitor, esse código é difícil de interpretar. Mesmo sem saber do que se trata, considere as seguintes alterações:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">setwd</span>(<span class="st">&quot;C:/RBook/&quot;</span>)</a>
<a class="sourceLine" id="cb23-2" title="2">ISIT&lt;-<span class="kw">read.table</span>(<span class="st">&quot;ISIT.txt&quot;</span>,<span class="dt">header=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb23-3" title="3"><span class="co">#Comece a plotagem</span></a>
<a class="sourceLine" id="cb23-4" title="4"><span class="co">#Plote Sources como função de SampleDeth, e use uma</span></a>
<a class="sourceLine" id="cb23-5" title="5"><span class="co">#caixa para cada estação.</span></a>
<a class="sourceLine" id="cb23-6" title="6"><span class="co">#Use a cor preta (col=1), e específique os nomes (labels)</span></a>
<a class="sourceLine" id="cb23-7" title="7"><span class="co">#dos eixos x e y (xlab and ylab). Use o fundo branco nas</span></a>
<a class="sourceLine" id="cb23-8" title="8"><span class="co">#caixas que contém os nomes das estações</span></a>
<a class="sourceLine" id="cb23-9" title="9"><span class="kw">xyplot</span>(SourcesSampleDepth<span class="op">|</span><span class="kw">factor</span>(Station),</a>
<a class="sourceLine" id="cb23-10" title="10"><span class="dt">data =</span> ISIT,<span class="dt">xlab=</span><span class="st">&quot;Sample Depth&quot;</span>,<span class="dt">ylab=</span><span class="st">&quot;Sources&quot;</span>,</a>
<a class="sourceLine" id="cb23-11" title="11"><span class="dt">strip=</span><span class="cf">function</span>(<span class="dt">bg=</span>’white’, ...)</a>
<a class="sourceLine" id="cb23-12" title="12"><span class="kw">strip.default</span>(<span class="dt">bg=</span>’white’, ...),</a>
<a class="sourceLine" id="cb23-13" title="13"><span class="dt">panel =</span> <span class="cf">function</span>(x,y) {</a>
<a class="sourceLine" id="cb23-14" title="14"><span class="co">#Adicione linhas de grade</span></a>
<a class="sourceLine" id="cb23-15" title="15"><span class="co">#Evite gráficos “espaguete”</span></a>
<a class="sourceLine" id="cb23-16" title="16"><span class="co">#Plote os dados como linhas (de cor preta)</span></a>
<a class="sourceLine" id="cb23-17" title="17"><span class="kw">panel.grid</span>(<span class="dt">h=</span><span class="op">-</span><span class="dv">1</span>,<span class="dt">v=</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb23-18" title="18">I1&lt;-<span class="kw">order</span>(x)</a>
<a class="sourceLine" id="cb23-19" title="19"><span class="kw">llines</span>(x[I1],y[I1],<span class="dt">col=</span><span class="dv">1</span>)})</a></code></pre></div>
<p>A inserção de algumas linhas de comentário (iniciadas com <code>#</code>) nos ajuda a compreender qual o objetivo daquele código, o que facilita a leitura.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="co">#Read data</span></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="kw">setwd</span>(<span class="st">&quot;C:/RBook/&quot;</span>)</a>
<a class="sourceLine" id="cb24-3" title="3">ISIT &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;ISIT.txt&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb24-4" title="4"></a>
<a class="sourceLine" id="cb24-5" title="5"><span class="co">#Load the lattice package</span></a>
<a class="sourceLine" id="cb24-6" title="6"><span class="kw">library</span>(lattice)</a>
<a class="sourceLine" id="cb24-7" title="7"></a>
<a class="sourceLine" id="cb24-8" title="8"><span class="co">#Start the actual plotting</span></a>
<a class="sourceLine" id="cb24-9" title="9"><span class="co">#Plot Sources as a function of SampleDepth, and use a</span></a>
<a class="sourceLine" id="cb24-10" title="10"><span class="co">#panel for each station.</span></a>
<a class="sourceLine" id="cb24-11" title="11"><span class="co">#Use the colour black (col=1), and specify x and y</span></a>
<a class="sourceLine" id="cb24-12" title="12"><span class="co">#labels (xlab and ylab). Use white background in the</span></a>
<a class="sourceLine" id="cb24-13" title="13"><span class="co">#boxes that contain the labels for station</span></a>
<a class="sourceLine" id="cb24-14" title="14"><span class="kw">xyplot</span>(Sources SampleDepth <span class="op">|</span><span class="st"> </span><span class="kw">factor</span>(Station),</a>
<a class="sourceLine" id="cb24-15" title="15">       <span class="dt">data =</span> ISIT,</a>
<a class="sourceLine" id="cb24-16" title="16">       <span class="dt">xlab =</span> <span class="st">&quot;Sample Depth&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Sources&quot;</span>,</a>
<a class="sourceLine" id="cb24-17" title="17">       <span class="dt">strip =</span> <span class="cf">function</span>(<span class="dt">bg =</span> ’white’, ...)</a>
<a class="sourceLine" id="cb24-18" title="18">         <span class="kw">strip.default</span>(<span class="dt">bg =</span> ’white’, ...),</a>
<a class="sourceLine" id="cb24-19" title="19">       <span class="dt">panel =</span> <span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb24-20" title="20">         <span class="co">#Add grid lines</span></a>
<a class="sourceLine" id="cb24-21" title="21">         <span class="co">#Avoid spaghetti plots</span></a>
<a class="sourceLine" id="cb24-22" title="22">         <span class="co">#plot the data as lines (in the colour black)</span></a>
<a class="sourceLine" id="cb24-23" title="23">         <span class="kw">panel.grid</span>(<span class="dt">h =</span> <span class="dv">-1</span>, <span class="dt">v =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb24-24" title="24">         I1 &lt;-<span class="st"> </span><span class="kw">order</span>(x)</a>
<a class="sourceLine" id="cb24-25" title="25">         <span class="kw">llines</span>(x[I1], y[I1], <span class="dt">col =</span> <span class="dv">1</span>)})</a></code></pre></div>
<p>A inserção de espaços a esquerda do código (<strong>identação</strong>) nos ajuda a entender relações de subordinação. O que esta identado a direita está subordinado a parte não identada acima. Junto com os comentários, já se torna possível depreender um pouco mais o sentido do código. Neste caso, trata-se da leitura de um banco de dados e da construção de um gráfico (xyplot), bem como da especificação de algumas características desse gráfico.</p>
</div>
<div id="porque-não-trabalhar-diretamente-no-console" class="section level2">
<h2>Porque não trabalhar diretamente no console</h2>
<p>Quando programamos diretamente no console, estamos nos submetendo a nossa memória. Será que já executamos aquela operação? Será que já fizemos aquele passo intermediário para chegar ao resultado final? À medida que nossas tarefas se tornam mais complexas, lembrar-se de cada etapa se torna impossível. Ainda mais considerando que você deve querer salvar seus programas para reutilizá-los no futuro. Para isto, utilizaremos programas (chamados de <em>scripts</em>) que ficam abertos no painel “Source” do Rstudio. Abra seu primeiro script <strong>clicando em File &gt;&gt; New File &gt;&gt; R Script, ou pelo atalho, Ctrl + Shift + N</strong>.</p>
<p><img src="source-rstudio.png" /></p>
<p>A ideia aqui é escrever um código que fica salvo em um arquivo (script) e que pode ser rodado no console usando o atalho Ctrl + Enter.</p>
<p><img src="source-rstudio2.png" /></p>
<p>Assim, o que você estiver escrito naquela linha/bloco de código vai ser rodada e você pode ver o resultado no console embaixo.</p>
</div>
<div id="ajuda-do-r" class="section level2">
<h2>Ajuda do R</h2>
<p>Uma das coisas que muda se você veio de uma Interface Gráfica de Usuário como no SPSS ou Excel, é que você precisa consultar a documentação do programa frequentemente, afinal, ninguém é um computador pra lembrar do nome de todos os comandos de cabeça. Vamos ver algumas opções no R.</p>
<p>Primeiro, vamos pedir ajuda sobre a função <code>'+'</code>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">help</span>(<span class="st">&#39;+&#39;</span>)</a>
<a class="sourceLine" id="cb25-2" title="2">?<span class="st">&#39;+&#39;</span></a></code></pre></div>
<p>As duas opções chamam a ajuda do R, que aparece na aba Help.</p>
<p><img src="help-rstudio.png" /></p>
<p>Outras opções são procurar no <a href="cran.r-project.com">Site do R</a>, no <a href="www.google.com.br">Google</a>, no <a href="www.stackoverflow.com">Stack Overflow</a> ou na <a href="http://r-br.2285057.n4.nabble.com">Lista R-Br</a>.</p>
<p>Muitos pacotes no R vem com tutoriais feitos por seus criadores. Para ver uma lista de tutoriais disponíveis, use:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">browseVignettes</span>()</a></code></pre></div>
<p>Que deve abrir uma lista no seu navegador. Se você já sabe qual vignette quer ler, pode abrí-la diretamente no Rstudio com:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="co"># Substitua dplyr pelo nome da vignette</span></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="kw">vignette</span>(<span class="st">&quot;dplyr&quot;</span>)</a></code></pre></div>
</div>
<div id="falando-a-língua-do-r" class="section level2">
<h2>Falando a língua do R</h2>
<p>À medida que você começa a utilizar o R, vários termos começar a se repetir na documentação e nos fóruns, e é difícil conseguir se orientar sem saber pelo menos um pouco do seu significado e de como eles se relacionam entre si. São conceitos básicos de programação e alguns específicos da língua, então trate isso como uma aula introdutória de alemão. É difícil, mas por trás disso há uma lógica e uma comunicação eficaz (pelo menos para os alemães!).</p>
<div id="síntaxe" class="section level3">
<h3>Síntaxe</h3>
<p>Aqui utilizo o termo sintaxe como aquela parte da gramática que se refere a função de cada termo de uma frase e a posição adequada para este. Se eu coloco a frase: “Pizza comer adoro eu” desta forma, a maioria de vocês apontaria que seus termos estão na ordem errada. Isto ocorre porque vocês tem uma noção de como deve ser a síntaxe de uma frase em português, quem vem primeiro e quem vem depois.</p>
<p>Da mesma forma, no R a síntaxe é importante.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb28-2" title="2">x</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1"><span class="kw">sum</span>(x)</a></code></pre></div>
<pre><code>## [1] 55</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1">x <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(x)</a></code></pre></div>
<pre><code>##  [1] 0.01818182 0.03636364 0.05454545 0.07272727 0.09090909 0.10909091
##  [7] 0.12727273 0.14545455 0.16363636 0.18181818</code></pre>
<p>A linguagem espera que as operações ocorram em uma determinada ordem, dada pelas regras estabelecidas pelos seus programadores, retiradas de convenções geralmente aceitas e também da lógica matemática. Se você receber um erro ou uma dica para “melhorar” ou “corrigir” sua sintaxe, é geralmente a isso que se refere.</p>
</div>
<div id="funções-e-métodos" class="section level3">
<h3>Funções e métodos</h3>
<p>Tudo em R é feito através de funções e métodos. A melhor maneira de entender uma função é pensar em uma máquina. Vou dar o exemplo dos eletrodomésticos que temos na cozinha. O liquidificador é responsável por transformar sólidos em líquidos. Assim, ele recebe algo sólido e produz algo líquido ao final de sua operação. O fogão é responsável por cozinhar alimentos, então ele recebe alimentos crus e produz alimentos cozidos ao final da sua operação.</p>
<p>Assim são as funções, elas recebem entradas, nas quais executam operações específicas e emitem resultados de acordo com a função.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1"><span class="co"># Recebe um grupo de valores e emite uma soma</span></a>
<a class="sourceLine" id="cb34-2" title="2"><span class="kw">sum</span>(x)</a></code></pre></div>
<pre><code>## [1] 55</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1"><span class="co"># Recebe um grupo de valores e emite uma média</span></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="kw">mean</span>(x)</a></code></pre></div>
<pre><code>## [1] 5.5</code></pre>
<p>Existem diferentes tipos de liquidificadores e fogões, que são aplicados para propósitos específicos. Por exemplo, se você quer fazer um creme usando cenouras, provavelmente o seu liquidificador caseiro precisará que você coloque a cenoura já cortada em pedaços menores, pois ele não tem a potência necessária para triturar a cenoura inteira adequadamente. Por outro lado, um liquidificador industrial pode detonar uma caixa de cenouras inteira sem problema.</p>
<p>Essa analogia nos leva para a questão dos métodos e também das entradas das funções.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1"><span class="co"># Emite as medidas resumo de uma variável</span></a>
<a class="sourceLine" id="cb38-2" title="2"><span class="kw">summary</span>(x)</a></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1.00    3.25    5.50    5.50    7.75   10.00</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1"><span class="co"># Emite as medidas resumo de uma tabela (data.frame)</span></a>
<a class="sourceLine" id="cb40-2" title="2">y &lt;-<span class="st"> </span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb40-3" title="3">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(x, y)</a>
<a class="sourceLine" id="cb40-4" title="4"><span class="kw">summary</span>(df)</a></code></pre></div>
<pre><code>##        x              y            
##  Min.   : 1.00   Length:10         
##  1st Qu.: 3.25   Class :character  
##  Median : 5.50   Mode  :character  
##  Mean   : 5.50                     
##  3rd Qu.: 7.75                     
##  Max.   :10.00</code></pre>
<p>Determinadas funções só vão aceitar determinadas entradas, enquanto outras funções vão ser “genéricas”, despachando o método mais adequado para o tipo de dado que você submeter.</p>
</div>
<div id="argumento" class="section level3">
<h3>Argumento</h3>
<p>Argumentos são as características que você passa pra sua função. No nosso exemplo do liquidificador, eu poderia passar 3 argumentos:</p>
<ul>
<li>Os ingredientes a serem liquidificados</li>
<li>A velocidade do aparelho (1, 2 ou 3)</li>
<li>O tempo de operação em minutos</li>
</ul>
<p>No caso da função soma, há um argumento opcional sobre como devem ser tratados os valores desconhecidos.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb42-2" title="2">x</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 NA</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" title="1"><span class="co"># Considere os valores NA</span></a>
<a class="sourceLine" id="cb44-2" title="2"><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" title="1"><span class="co"># Desconsidere os valores NA</span></a>
<a class="sourceLine" id="cb46-2" title="2"><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 45</code></pre>
<p>(Quase) todas as funções recebem argumentos, e eles podem alterar o funcionamento “padrão” de uma função de acordo com as suas necessidades.</p>
</div>
<div id="objetos" class="section level3">
<h3>Objetos</h3>
<p>Na nossa empreitada culinária, precisaremos utilizar potes, panelas e depósitos para armanezar nossos ingredientes e também nossos pratos prontos. Os objetos em R são contêineres de diversos tipos e formatos nos quais podemos armazenar informações.</p>
<p>Vejamos um objeto que criamos agora há pouco, usando a função <code>&lt;-</code>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb48-2" title="2">x</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>Esse tipo de objeto se chama “vetor”, e ele é geralmente uma coluna de informações de mesmo tipo, guardada em um objeto de mesmo nome. No caso, é um vetor de números inteiros que vai de 1 a 10. Há muitos tipos de objetos em R, e podemos até filosofar que tudo é um objeto, afinal, as funções são também objetos guardados numa função com seu nome. Mas isso é menos importante.</p>
<p>Objetos são os nossos potes e panelas, onde armazenamos informações relevantes em formatos específicos. Os dois objetos que mais utilizaremos daqui em diante são os <code>vetores</code> e os <code>data.frames</code>.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" title="1"><span class="co"># Vetores são criados com c()</span></a>
<a class="sourceLine" id="cb50-2" title="2"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</a></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1"><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" title="1"><span class="co"># Data.frames são criado com data.frame()</span></a>
<a class="sourceLine" id="cb56-2" title="2"><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</a>
<a class="sourceLine" id="cb56-3" title="3">           <span class="dt">b =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>),</a>
<a class="sourceLine" id="cb56-4" title="4">           <span class="dt">c =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["a"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["b"],"name":[2],"type":["chr"],"align":["left"]},{"label":["c"],"name":[3],"type":["lgl"],"align":["right"]}],"data":[{"1":"1","2":"a","3":"TRUE"},{"1":"2","2":"b","3":"FALSE"},{"1":"3","2":"c","3":"TRUE"},{"1":"4","2":"d","3":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="tipos-de-dado" class="section level3">
<h3>Tipos de dado</h3>
<p>Voltando para nossa metáfora culinária, podemos encontrar diversos tipos de ingredientes. Alguns deles servem para formar a base de uma refeição, como o nosso feijão-com-arroz, enquanto outros oferecem mais sabor, como o sal e a pimenta. Outros estão entre uma coisa e outra, como o refogado de cebola, alho e cenoura.</p>
<p>No R, nossos objetos tem tipos distintos, alguns são números, outros são letras e palavras, outros são valores lógicos e outros são objetos complexos, compostos de vários objetos menores de vários tipos. Podemos descobrir o tipo dos objetos assim:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" title="1"><span class="co"># class() revela o tipo do objeto</span></a>
<a class="sourceLine" id="cb57-2" title="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb57-3" title="3"><span class="kw">class</span>(x) <span class="co"># Vetor de inteiros</span></a></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1">y &lt;-<span class="st"> </span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb59-2" title="2"><span class="kw">class</span>(y) <span class="co"># Vetores de caracteres</span></a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(x, y)</a>
<a class="sourceLine" id="cb61-2" title="2"><span class="kw">class</span>(df) <span class="co"># Tabela (data.frame)</span></a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>Também podemos converter entre os tipos usando a família de funções <code>as.___</code></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" title="1"><span class="co"># Convertendo números</span></a>
<a class="sourceLine" id="cb63-2" title="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.1</span>, <span class="fl">2.2</span>, <span class="fl">3.3</span>, <span class="fl">4.4</span>)</a>
<a class="sourceLine" id="cb63-3" title="3">x</a></code></pre></div>
<pre><code>## [1] 1.1 2.2 3.3 4.4</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" title="1"><span class="kw">as.integer</span>(x)</a></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" title="1"><span class="kw">as.character</span>(x)</a></code></pre></div>
<pre><code>## [1] &quot;1.1&quot; &quot;2.2&quot; &quot;3.3&quot; &quot;4.4&quot;</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" title="1"><span class="co"># Convertendo valores lógicos</span></a>
<a class="sourceLine" id="cb69-2" title="2">y &lt;-<span class="st"> </span><span class="kw">c</span>(T, F, T, F)</a>
<a class="sourceLine" id="cb69-3" title="3"><span class="kw">as.numeric</span>(y)</a></code></pre></div>
<pre><code>## [1] 1 0 1 0</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" title="1"><span class="kw">as.character</span>(y)</a></code></pre></div>
<pre><code>## [1] &quot;TRUE&quot;  &quot;FALSE&quot; &quot;TRUE&quot;  &quot;FALSE&quot;</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" title="1"><span class="co"># Nem todas as conversões são possíveis</span></a>
<a class="sourceLine" id="cb73-2" title="2">z &lt;-<span class="st"> </span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb73-3" title="3">z</a></code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot;</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1"><span class="kw">as.numeric</span>(z)</a></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA</code></pre>
</div>
<div id="algumas-funções-básicas-muito-úteis." class="section level3">
<h3>Algumas funções básicas muito úteis.</h3>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" title="1"><span class="co"># Atribuição &#39;&lt;-&#39; ou &#39;=&#39;</span></a>
<a class="sourceLine" id="cb78-2" title="2">x &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb78-3" title="3">y =<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb78-4" title="4">x <span class="op">+</span><span class="st"> </span>y</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" title="1"><span class="co"># Concatenação &#39;c()&#39;</span></a>
<a class="sourceLine" id="cb80-2" title="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb80-3" title="3">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb80-4" title="4">x <span class="op">+</span><span class="st"> </span>y</a></code></pre></div>
<pre><code>## [1] 4 4 4</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" title="1"><span class="co"># Médias &#39;mean()&#39;</span></a>
<a class="sourceLine" id="cb82-2" title="2"><span class="kw">mean</span>(x)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" title="1"><span class="kw">mean</span>(x <span class="op">+</span><span class="st"> </span>y)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" title="1"><span class="co"># Somas &#39;sum()&#39;</span></a>
<a class="sourceLine" id="cb86-2" title="2"><span class="kw">sum</span>(x)</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" title="1"><span class="kw">sum</span>(x <span class="op">-</span><span class="st"> </span>y)</a></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1"><span class="co"># Medianas &#39;median()&quot;</span></a>
<a class="sourceLine" id="cb90-2" title="2"><span class="kw">median</span>(x)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1"><span class="co"># Quantis &#39;quantile()&#39;</span></a>
<a class="sourceLine" id="cb92-2" title="2"><span class="kw">quantile</span>(x)</a></code></pre></div>
<pre><code>##   0%  25%  50%  75% 100% 
##  1.0  1.5  2.0  2.5  3.0</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" title="1"><span class="co"># Desvio padrão &#39;sd()&#39;</span></a>
<a class="sourceLine" id="cb94-2" title="2"><span class="kw">sd</span>(x)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" title="1"><span class="co"># Variância &#39;var()&#39;</span></a>
<a class="sourceLine" id="cb96-2" title="2"><span class="kw">var</span>(x)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" title="1"><span class="co"># Intervalo &#39;range()&#39;</span></a>
<a class="sourceLine" id="cb98-2" title="2"><span class="kw">range</span>(x)</a></code></pre></div>
<pre><code>## [1] 1 3</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" title="1"><span class="co"># Máximo e mínimo &#39;min()&#39;, &#39;max()&#39;</span></a>
<a class="sourceLine" id="cb100-2" title="2"><span class="kw">min</span>(x)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" title="1"><span class="kw">max</span>(x)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" title="1"><span class="co"># Criação de data.frame()</span></a>
<a class="sourceLine" id="cb104-2" title="2"><span class="co"># A partir de valores</span></a>
<a class="sourceLine" id="cb104-3" title="3"><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</a>
<a class="sourceLine" id="cb104-4" title="4">           <span class="dt">b =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["a"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["b"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"3"},{"1":"2","2":"2"},{"1":"3","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" title="1"><span class="co"># A partir de vetores</span></a>
<a class="sourceLine" id="cb105-2" title="2"><span class="kw">data.frame</span>(x, y)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["y"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"3"},{"1":"2","2":"2"},{"1":"3","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" title="1"><span class="co"># Colagem de caracteres (strings)</span></a>
<a class="sourceLine" id="cb106-2" title="2"><span class="co"># Strings individuais</span></a>
<a class="sourceLine" id="cb106-3" title="3">a1 &lt;-<span class="st"> &quot;Eu&quot;</span></a>
<a class="sourceLine" id="cb106-4" title="4">a2 &lt;-<span class="st"> &quot;Amo&quot;</span></a>
<a class="sourceLine" id="cb106-5" title="5">a3 &lt;-<span class="st"> &quot;Pizza.&quot;</span></a>
<a class="sourceLine" id="cb106-6" title="6"></a>
<a class="sourceLine" id="cb106-7" title="7"><span class="kw">paste</span>(a1, a2, a3, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;Eu Amo Pizza.&quot;</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" title="1"><span class="co"># Vetores de strings</span></a>
<a class="sourceLine" id="cb108-2" title="2">z &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Eu&quot;</span>, <span class="st">&quot;Amo&quot;</span>, <span class="st">&quot;Pizza.&quot;</span>)</a>
<a class="sourceLine" id="cb108-3" title="3"></a>
<a class="sourceLine" id="cb108-4" title="4"><span class="kw">paste</span>(z, <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;Eu Amo Pizza.&quot;</code></pre>
</div>
</div>
<div id="errando" class="section level2">
<h2>Errando</h2>
<p>Invariavelmente, ao desenvolver seus programas, você cometerá ou encontrará erros. Não entre em pânico! Procure se informar sobre o seu erro. Localize o ponto ele ocorreu e tente ler as mensagens de erro, procure mais informações até que você consiga solucionar seu problema. Vale postar dúvidas em fóruns e ligar pro seu coleguinha que já tem mais experiência, só não vale desistir!</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" title="1"><span class="co"># Errado</span></a>
<a class="sourceLine" id="cb110-2" title="2"><span class="kw">c</span>(Palavra)</a></code></pre></div>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" title="1"><span class="co"># Certo</span></a>
<a class="sourceLine" id="cb111-2" title="2"><span class="kw">c</span>(<span class="st">&quot;Palavra&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;Palavra&quot;</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" title="1"><span class="co"># Errado</span></a>
<a class="sourceLine" id="cb113-2" title="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb113-3" title="3"><span class="kw">sum</span>(x)</a></code></pre></div>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" title="1"><span class="co"># Certo</span></a>
<a class="sourceLine" id="cb114-2" title="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb114-3" title="3"><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" title="1"><span class="co"># Errado</span></a>
<a class="sourceLine" id="cb116-2" title="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span> <span class="dv">4</span>)</a></code></pre></div>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" title="1"><span class="co"># Certo</span></a>
<a class="sourceLine" id="cb117-2" title="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</a></code></pre></div>
<p>No começo, pode ser difícil interpretar as mensagens de erro, mas elas geralmente oferecem pelo menos uma ideia de onde procurar o problema. Eu mesmo já resolvi vários problemas copiando e colando a mensagem no google e lendo as respostas das pessoas. Algumas são bem óbvias e tranquilas, outras são mais técnicas e complexas, mas você sempre aprende algo pelo caminho.</p>
</div>
<div id="gráficos" class="section level2">
<h2>Gráficos</h2>
<p>Uma das melhores funcionalidades do R é a sua suite de visualizações. Aqui, não vamos nos deter numa explicação detalhada do funcionamento de cada parâmetro gráfico das funções, apenas demonstrar algumas funcionalidades e exemplos interessantes. Voltaremos a esse assunto no futuro. Os exemplos são adaptados do excelente <a href="https://www.packtpub.com/big-data-and-business-intelligence/r-data-visualization-cookbook">R Data Visualization Cookbook</a>. Os dados utilizados foram retirados do <a href="https://data.worldbank.org/">World Bank Data</a>.</p>
<p>Para que os scripts a seguir funcionem, vocês vão precisar que os arquivos de dados estejam localizados em sua pasta de trabalho, que vocês podem alterar como quiserem, basta especificar o caminho desejado de pasta.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" title="1"><span class="kw">setwd</span>(<span class="st">&quot;C:/Users/vinic/Documents/R&quot;</span>) <span class="co"># Substitua pela sua pasta desejada</span></a>
<a class="sourceLine" id="cb118-2" title="2"></a>
<a class="sourceLine" id="cb118-3" title="3"><span class="co"># OU</span></a>
<a class="sourceLine" id="cb118-4" title="4"><span class="kw">setwd</span>(<span class="st">&quot;C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">vinic</span><span class="ch">\\</span><span class="st">Documents</span><span class="ch">\\</span><span class="st">R&quot;</span>)</a></code></pre></div>
<p>Atenção às contrabarras se você copiar o caminho do arquivo direto do Windows!</p>
<div id="um-scatterplot" class="section level3">
<h3>Um scatterplot</h3>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" title="1"><span class="cf">if</span> ((<span class="op">!</span><span class="st">&quot;grDevices&quot;</span> <span class="op">%in%</span><span class="st"> </span><span class="kw">installed.packages</span>())) {</a>
<a class="sourceLine" id="cb119-2" title="2">  <span class="kw">install.packages</span>(<span class="st">&quot;ISLR&quot;</span>)</a>
<a class="sourceLine" id="cb119-3" title="3">}</a>
<a class="sourceLine" id="cb119-4" title="4"><span class="kw">library</span>(ISLR)</a>
<a class="sourceLine" id="cb119-5" title="5"></a>
<a class="sourceLine" id="cb119-6" title="6"><span class="kw">attach</span>(Carseats)</a>
<a class="sourceLine" id="cb119-7" title="7"></a>
<a class="sourceLine" id="cb119-8" title="8"><span class="kw">head</span>(Carseats)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["CompPrice"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Income"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Advertising"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Population"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Price"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["ShelveLoc"],"name":[7],"type":["fctr"],"align":["left"]},{"label":["Age"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Education"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["Urban"],"name":[10],"type":["fctr"],"align":["left"]},{"label":["US"],"name":[11],"type":["fctr"],"align":["left"]}],"data":[{"1":"9.50","2":"138","3":"73","4":"11","5":"276","6":"120","7":"Bad","8":"42","9":"17","10":"Yes","11":"Yes","_rn_":"1"},{"1":"11.22","2":"111","3":"48","4":"16","5":"260","6":"83","7":"Good","8":"65","9":"10","10":"Yes","11":"Yes","_rn_":"2"},{"1":"10.06","2":"113","3":"35","4":"10","5":"269","6":"80","7":"Medium","8":"59","9":"12","10":"Yes","11":"Yes","_rn_":"3"},{"1":"7.40","2":"117","3":"100","4":"4","5":"466","6":"97","7":"Medium","8":"55","9":"14","10":"Yes","11":"Yes","_rn_":"4"},{"1":"4.15","2":"141","3":"64","4":"3","5":"340","6":"128","7":"Bad","8":"38","9":"13","10":"Yes","11":"No","_rn_":"5"},{"1":"10.81","2":"124","3":"113","4":"13","5":"501","6":"72","7":"Bad","8":"78","9":"16","10":"No","11":"Yes","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" title="1"><span class="kw">plot</span>(Income, Sales,</a>
<a class="sourceLine" id="cb120-2" title="2">     <span class="dt">col =</span> <span class="kw">c</span>(Urban),</a>
<a class="sourceLine" id="cb120-3" title="3">     <span class="dt">pch =</span> <span class="dv">20</span>,</a>
<a class="sourceLine" id="cb120-4" title="4">     <span class="dt">main =</span> <span class="st">&quot;Vendas de Cadeirinhas Infantis para automóveis&quot;,</span></a>
<a class="sourceLine" id="cb120-5" title="5"><span class="st">     xlab = &quot;</span><span class="kw">Renda</span> (milhares de Dólares)<span class="st">&quot;,</span></a>
<a class="sourceLine" id="cb120-6" title="6"><span class="st">     ylab = &quot;</span>Unidades <span class="kw">vendidas</span> (milhares)<span class="st">&quot;</span></a>
<a class="sourceLine" id="cb120-7" title="7"><span class="st">)</span></a>
<a class="sourceLine" id="cb120-8" title="8"></a>
<a class="sourceLine" id="cb120-9" title="9"><span class="st">legend(&quot;</span>topright<span class="st">&quot;, </span></a>
<a class="sourceLine" id="cb120-10" title="10"><span class="st">       cex = 0.6,</span></a>
<a class="sourceLine" id="cb120-11" title="11"><span class="st">       fill = c(&quot;</span>red<span class="st">&quot;, &quot;</span>black<span class="st">&quot;), </span></a>
<a class="sourceLine" id="cb120-12" title="12"><span class="st">       legend = c(&quot;</span>Urbana<span class="st">&quot;, &quot;</span>Não<span class="op">-</span>urbana<span class="st">&quot;))</span></a></code></pre></div>
<p><img src="11_lingua-r_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" title="1"><span class="kw">detach</span>(Carseats)</a></code></pre></div>
</div>
<div id="um-scatterplot-com-alguns-detalhes-a-mais" class="section level3">
<h3>Um scatterplot com alguns detalhes a mais</h3>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" title="1">child =<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;banco_mundial2018.csv&quot;</span>)</a>
<a class="sourceLine" id="cb122-2" title="2"></a>
<a class="sourceLine" id="cb122-3" title="3"><span class="kw">summary</span>(child)</a></code></pre></div>
<pre><code>##  Country.Name           chmort            gdp                
##  Length:195         Min.   : 1.400   Min.   :      42587780  
##  Class :character   1st Qu.: 6.025   1st Qu.:    7353896000  
##  Mode  :character   Median :14.300   Median :   34409230000  
##                     Mean   :21.339   Mean   :  431342787495  
##                     3rd Qu.:32.850   3rd Qu.:  220038400000  
##                     Max.   :84.500   Max.   :20544340000000  
##                     NA&#39;s   :9                                
##     gdp_bil         
##  Min.   :    0.043  
##  1st Qu.:    7.354  
##  Median :   34.409  
##  Mean   :  431.343  
##  3rd Qu.:  220.038  
##  Max.   :20544.340  
## </code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" title="1"><span class="kw">head</span>(child)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Country.Name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["chmort"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["gdp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["gdp_bil"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Afghanistan","2":"47.9","3":"19362970000","4":"19.362970","_rn_":"1"},{"1":"Angola","2":"51.6","3":"105751000000","4":"105.751000","_rn_":"2"},{"1":"Albania","2":"7.8","3":"15102500000","4":"15.102500","_rn_":"3"},{"1":"Andorra","2":"2.7","3":"3236544000","4":"3.236544","_rn_":"4"},{"1":"United Arab Emirates","2":"6.5","3":"414178900000","4":"414.178900","_rn_":"5"},{"1":"Argentina","2":"8.8","3":"519871500000","4":"519.871500","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" title="1"><span class="co"># Esqueleto</span></a>
<a class="sourceLine" id="cb125-2" title="2"><span class="kw">plot</span>(child<span class="op">$</span>gdp_bil, child<span class="op">$</span>chmort, </a>
<a class="sourceLine" id="cb125-3" title="3">     <span class="dt">pch =</span> <span class="dv">20</span>, </a>
<a class="sourceLine" id="cb125-4" title="4">     <span class="dt">col =</span> <span class="st">&quot;#756bb1&quot;</span>,</a>
<a class="sourceLine" id="cb125-5" title="5">     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">max</span>(child<span class="op">$</span>gdp_bil, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)), </a>
<a class="sourceLine" id="cb125-6" title="6">     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">90</span>), </a>
<a class="sourceLine" id="cb125-7" title="7">     <span class="dt">xlab =</span> <span class="st">&quot;PIB em Bilhões de dólares atuais&quot;</span>, </a>
<a class="sourceLine" id="cb125-8" title="8">     <span class="dt">ylab =</span> <span class="st">&quot;Taxa de mortalidade infantil&quot;</span>, </a>
<a class="sourceLine" id="cb125-9" title="9">     <span class="dt">main =</span> <span class="st">&quot;Taxa de mortalidade infantil em alguns países em 2018&quot;</span>)</a>
<a class="sourceLine" id="cb125-10" title="10"></a>
<a class="sourceLine" id="cb125-11" title="11"><span class="co"># Detalhes</span></a>
<a class="sourceLine" id="cb125-12" title="12"></a>
<a class="sourceLine" id="cb125-13" title="13"><span class="kw">abline</span>(<span class="dt">h =</span> <span class="kw">mean</span>(child<span class="op">$</span>chmort, <span class="dt">na.rm =</span> T), <span class="dt">lwd =</span> <span class="dv">1</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a>
<a class="sourceLine" id="cb125-14" title="14"><span class="kw">text</span>(<span class="dv">19600</span>,<span class="dv">9</span>,<span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Estados Unidos&quot;</span>), <span class="dt">cex =</span> <span class="fl">0.75</span>)</a>
<a class="sourceLine" id="cb125-15" title="15"><span class="kw">text</span>(<span class="dv">2000</span>, <span class="dv">88</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;República Centroafricana&quot;</span>), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">cex =</span> <span class="fl">0.75</span>)</a>
<a class="sourceLine" id="cb125-16" title="16"><span class="kw">text</span>(<span class="dv">10000</span>, <span class="dv">25</span>,<span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Mortalidade infantil média&quot;</span>), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">cex =</span> <span class="fl">0.75</span>)</a></code></pre></div>
<p><img src="11_lingua-r_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>Outra versão do mesmo gráfico, com linha de tendência:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" title="1"><span class="co"># Linha de tendência</span></a>
<a class="sourceLine" id="cb126-2" title="2"><span class="kw">scatter.smooth</span>(</a>
<a class="sourceLine" id="cb126-3" title="3">  child<span class="op">$</span>gdp_bil,</a>
<a class="sourceLine" id="cb126-4" title="4">  child<span class="op">$</span>chmort,</a>
<a class="sourceLine" id="cb126-5" title="5">  <span class="dt">span =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>,</a>
<a class="sourceLine" id="cb126-6" title="6">  <span class="dt">pch =</span> <span class="dv">20</span>,</a>
<a class="sourceLine" id="cb126-7" title="7">  <span class="dt">lwd =</span> <span class="fl">0.75</span>,</a>
<a class="sourceLine" id="cb126-8" title="8">  <span class="dt">col =</span> <span class="st">&quot;Blue&quot;</span>,</a>
<a class="sourceLine" id="cb126-9" title="9">  <span class="dt">lpars =</span> <span class="kw">list</span>(<span class="dt">lty =</span> <span class="dv">3</span>, <span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">lwd =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb126-10" title="10">  <span class="dt">xlab =</span> <span class="st">&quot;PIB em Bilhões de dólares atuais&quot;</span>,</a>
<a class="sourceLine" id="cb126-11" title="11">  <span class="dt">ylab =</span> <span class="st">&quot;Taxa de mortalidade infantil&quot;</span>,</a>
<a class="sourceLine" id="cb126-12" title="12">  <span class="dt">main =</span> <span class="st">&quot;Taxa de mortalidade infantil em alguns países em 2018&quot;</span></a>
<a class="sourceLine" id="cb126-13" title="13">)</a></code></pre></div>
<p><img src="11_lingua-r_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
</div>
<div id="evolução-temporal-da-desigualdade---gráfico-de-linha" class="section level3">
<h3>Evolução temporal da desigualdade - gráfico de linha</h3>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" title="1">income &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;banco_mundial_desigualdade.csv&quot;</span>)</a>
<a class="sourceLine" id="cb127-2" title="2"></a>
<a class="sourceLine" id="cb127-3" title="3">income<span class="op">$</span>Year &lt;-<span class="st"> </span><span class="kw">factor</span>(income<span class="op">$</span>Year, <span class="dt">ordered =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb127-4" title="4"></a>
<a class="sourceLine" id="cb127-5" title="5"><span class="kw">head</span>(income)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Country.Name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[2],"type":["ord"],"align":["right"]},{"label":["President"],"name":[3],"type":["chr"],"align":["left"]},{"label":["GDP_bil"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["gini_coef"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"United States","2":"1974","3":"Ford","4":"1545.243","5":"35.3","_rn_":"1"},{"1":"United States","2":"1979","3":"Carter","4":"2627.334","5":"34.6","_rn_":"2"},{"1":"United States","2":"1986","3":"Reagan","4":"4579.631","5":"37.5","_rn_":"3"},{"1":"United States","2":"1991","3":"Bush Sr.","4":"6158.129","5":"38.2","_rn_":"4"},{"1":"United States","2":"1994","3":"Clinton","4":"7287.236","5":"40.2","_rn_":"5"},{"1":"United States","2":"1997","3":"Clinton","4":"8577.554","5":"40.7","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" title="1"><span class="kw">plot</span>(</a>
<a class="sourceLine" id="cb128-2" title="2">  income<span class="op">$</span>GDP_bil,</a>
<a class="sourceLine" id="cb128-3" title="3">  income<span class="op">$</span>gini_coef,</a>
<a class="sourceLine" id="cb128-4" title="4">  <span class="dt">pch =</span> <span class="dv">20</span>,</a>
<a class="sourceLine" id="cb128-5" title="5">  <span class="dt">col =</span> <span class="kw">factor</span>(income<span class="op">$</span>President),</a>
<a class="sourceLine" id="cb128-6" title="6">  <span class="dt">type =</span> <span class="st">&quot;o&quot;</span>,</a>
<a class="sourceLine" id="cb128-7" title="7">  <span class="dt">xlab =</span> <span class="st">&quot;PIB dos EUA (em bilhões de USD)&quot;</span>,</a>
<a class="sourceLine" id="cb128-8" title="8">  <span class="dt">ylab =</span> <span class="st">&quot;Coeficiente de Gini&quot;</span>,</a>
<a class="sourceLine" id="cb128-9" title="9">  <span class="dt">main =</span> <span class="st">&quot;Desigualdade nos EUA&quot;</span>,</a>
<a class="sourceLine" id="cb128-10" title="10">  <span class="dt">xaxp =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">18000</span>, <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb128-11" title="11">)</a>
<a class="sourceLine" id="cb128-12" title="12"></a>
<a class="sourceLine" id="cb128-13" title="13"><span class="kw">legend</span>(</a>
<a class="sourceLine" id="cb128-14" title="14">  <span class="st">&quot;bottomright&quot;</span>,</a>
<a class="sourceLine" id="cb128-15" title="15">  <span class="dt">fill =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">7</span>, <span class="dv">3</span>, <span class="dv">13</span>),</a>
<a class="sourceLine" id="cb128-16" title="16">  <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Obama&quot;</span>, <span class="st">&quot;Bush Jr.&quot;</span>, <span class="st">&quot;Clinton&quot;</span>, <span class="st">&quot;Bush Sr.&quot;</span>, <span class="st">&quot;Reagan&quot;</span>, </a>
<a class="sourceLine" id="cb128-17" title="17">             <span class="st">&quot;Carter&quot;</span>, <span class="st">&quot;Ford&quot;</span>),</a>
<a class="sourceLine" id="cb128-18" title="18">  <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>,</a>
<a class="sourceLine" id="cb128-19" title="19">  <span class="dt">cex =</span> <span class="fl">0.7</span></a>
<a class="sourceLine" id="cb128-20" title="20">)</a></code></pre></div>
<p><img src="11_lingua-r_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
</div>
<div id="gráfico-de-barras-comparando-valores-de-variáveis-categóricas" class="section level3">
<h3>Gráfico de barras comparando valores de variáveis categóricas</h3>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" title="1">imr &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;imr_sea_2011.csv&quot;</span>)</a>
<a class="sourceLine" id="cb129-2" title="2"></a>
<a class="sourceLine" id="cb129-3" title="3"><span class="kw">head</span>(imr)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["IMR"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Pakistan","2":"68.7","_rn_":"1"},{"1":"Afghanistan","2":"61.9","_rn_":"2"},{"1":"Lao PDR","2":"49.5","_rn_":"3"},{"1":"Myanmar","2":"46.8","_rn_":"4"},{"1":"India","2":"43.0","_rn_":"5"},{"1":"Bangladesh","2":"36.8","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" title="1"><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb130-2" title="2"><span class="kw">barplot</span>(</a>
<a class="sourceLine" id="cb130-3" title="3">  imr<span class="op">$</span>IMR,</a>
<a class="sourceLine" id="cb130-4" title="4">  <span class="dt">las =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb130-5" title="5">  <span class="dt">names.arg =</span> imr<span class="op">$</span>Country,</a>
<a class="sourceLine" id="cb130-6" title="6">  <span class="dt">border =</span> <span class="ot">NA</span>,</a>
<a class="sourceLine" id="cb130-7" title="7">  <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">70</span>),</a>
<a class="sourceLine" id="cb130-8" title="8">  <span class="dt">col =</span> <span class="st">&quot;#e34a33&quot;</span>,</a>
<a class="sourceLine" id="cb130-9" title="9">  <span class="dt">main =</span> <span class="st">&quot;Taxas de mortalidade infantil na Ásia Meridional, 2011&quot;</span></a>
<a class="sourceLine" id="cb130-10" title="10">)</a>
<a class="sourceLine" id="cb130-11" title="11"><span class="kw">abline</span>(<span class="dt">h =</span> <span class="kw">mean</span>(imr<span class="op">$</span>IMR),</a>
<a class="sourceLine" id="cb130-12" title="12">       <span class="dt">lwd =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb130-13" title="13">       <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>,</a>
<a class="sourceLine" id="cb130-14" title="14">       <span class="dt">lty =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="11_lingua-r_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>Essas são apenas algumas das possibilidades colocadas pelas funções gráficas do R, mas elas servem para demonstrar o quanto você pode conseguir de customização na visualização de dados e, quem sabe, estimular a curiosidade de vocês para se envolver mais com a linguagem.</p>
</div>
</div>
<div id="concluindo" class="section level2">
<h2>Concluindo</h2>
<p>Este primeiro contato com a linguagem R pode ter sido um pouco complicado e difícil, caso você não tenha familiaridade com programação, mas espero que ele tenha ajudado a quebrar o gelo e tornar os conceitos um pouco mais claros, bem como que tenha demonstrado algum potencial e interesse pela linguagem.</p>
</div>

<p>Copyright &copy; 2020 Vinícius Maia. Nenhum Direito a menos.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
